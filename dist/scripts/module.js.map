{"version":3,"file":"module.js","sources":["../../src/constants/Hooks.mjs","../../src/constants/General.mjs","../../src/constants/Settings.mjs","../../src/components/settings-dialogs/CameraDockSettings.mjs","../../src/components/settings-dialogs/CustomFontSettings.mjs","../../src/components/settings-dialogs/LeftControlsSettings.mjs","../../src/constants/SettingMenus.mjs","../../src/components/GeneralUtil.mjs","../../src/components/CameraUtil.mjs","../../src/components/SettingsUtil.mjs","../../src/components/LogUtil.mjs","../../src/components/TopNavUtil.mjs","../../src/components/ChatUtil.mjs","../../src/components/PlayersListUtil.mjs","../../src/components/Main.mjs","../../src/module.mjs"],"sourcesContent":["/**\n * Foundry Core hooks\n * https://foundryvtt.com/api/classes/client.Hooks.html\n * https://foundryvtt.com/api/modules/hookEvents.html\n * */ \nexport const HOOKS_CORE = {\n  INIT: \"init\", \n  READY: \"ready\", \n\n  /* Chat Messages */\n  RENDER_CHAT_MESSAGE: \"renderChatMessage\" ,\n\n  /* Left Side Controls */\n  GET_SCENE_CONTROLS: \"getSceneControlButtons\",\n  RENDER_SCENE_CONTROLS: \"renderSceneControls\",\n  RENDER_PLAYERS_LIST: \"renderPlayerList\",\n\n  /* Scene Navigation*/\n  RENDER_SCENE_NAV: \"renderSceneNavigation\",\n  COLLAPSE_SCENE_NAV: \"collapseSceneNavigation\",\n  EXPAND_SCENE_NAV: \"expandSceneNavigation\",\n\n  /* Right Side Panel */\n  COLLAPSE_SIDE_BAR: \"collapseSidebar\",\n\n  /* Macros */\n  RENDER_HOTBAR: \"renderHotbar\",\n\n  /* Camera Views */\n  RENDER_CAMERA_VIEWS: \"renderCameraViews\"\n}","export const MODULE_ID = \"crlngn-ui\";\nexport const MODULE_TITLE = \"Carolingian UI\";\nexport const MODULE_SHORT = \"crlngn-ui\";\nexport const DEBUG_TAG = [\n  `%cCarolingian UI`,\n  `color:rgb(54, 0, 119); font-weight: bold;`,\n  `|`,\n];\n\nexport const ROLL_TYPES = {\n  abilityCheck: \"ability\",\n  abilitySave: \"save\",\n  attack: \"attack\",\n  check: \"check\",\n  concentration: \"concentration\",\n  damage: \"damage\",\n  deathSave: \"death\",\n  formula: \"formula\",\n  healing: \"heal\",\n  custom: \"roll\",\n  skillCheck: \"skill\",\n  toolCheck: \"tool\"\n}\n\nexport const CHAR_ABILITIES = [\n  { abbrev: \"str\", name: \"strength\" },\n  { abbrev: \"dex\", name: \"dexterity\" },\n  { abbrev: \"con\", name: \"constitution\" },\n  { abbrev: \"int\", name: \"intelligence\" },\n  { abbrev: \"wis\", name: \"wisdom\" },\n  { abbrev: \"cha\", name: \"charisma\" }\n]\n\nexport const CLASS_PREFIX = 'crlngn';","export const SETTING_INPUT = {\n  select: \"select\", \n  checkbox: \"checkbox\",\n  text: \"text\",\n  number: \"number\"\n}\nexport const SETTING_SCOPE = {\n  client: \"client\",\n  world: \"world\"\n}\n\nexport const ICON_SIZES = {\n  small: { name: 'small', size: '36px'},\n  regular: { name: 'regular', size: '42px'},\n}\n\nexport function getSettings() { \n  return {\n\n    customFontsMenu: {\n      tag: \"custom-font-families\", \n      label: game.i18n.localize(\"CRLNGN_UI.settings.customFontsMenu.label\"),\n      hint: game.i18n.localize(\"CRLNGN_UI.settings.customFontsMenu.hint\"),\n      propType: Object,\n      inputType: SETTING_INPUT.button,\n      default: {\n        uiFont: `\"Work Sans\", Arial, sans-serif`,\n        journalBodyFont: `\"Roboto Condensed\", Arial, sans-serif`, \n        journalTitleFont: `\"Roboto Condensed\", Arial, sans-serif`\n      },\n      scope: SETTING_SCOPE.world,\n      config: false, \n      requiresReload: false \n    },\n\n    leftControlsMenu: {\n      tag: \"left-controls-menu\", \n      label: game.i18n.localize(\"CRLNGN_UI.settings.leftControlsMenu.label\"),\n      hint: game.i18n.localize(\"CRLNGN_UI.settings.leftControlsMenu.hint\"),\n      propType: Object,\n      inputType: SETTING_INPUT.button,\n      fields: {\n        iconSize: {\n          tag: \"control-icon-size\",\n          label: game.i18n.localize(\"CRLNGN_UI.settings.leftControlsMenu.fields.iconSize.label\"),\n          hint: game.i18n.localize(\"CRLNGN_UI.settings.leftControlsMenu.fields.iconSize.hint\"),\n          inputType: SETTING_INPUT.select, \n          options: {\n            small: game.i18n.localize(\"CRLNGN_UI.settings.leftControlsMenu.fields.iconSize.options.small\"), \n            regular: game.i18n.localize(\"CRLNGN_UI.settings.leftControlsMenu.fields.iconSize.options.regular\")\n          }\n        },\n        autoHideSecondary: { \n          tag: \"auto-hide-secondary-controls\", \n          label: game.i18n.localize(\"CRLNGN_UI.settings.leftControlsMenu.fields.autoHideSecondary.label\"), \n          hint: game.i18n.localize(\"CRLNGN_UI.settings.leftControlsMenu.fields.autoHideSecondary.hint\"), \n          inputType: SETTING_INPUT.checkbox\n        }\n      },\n      default: {\n        iconSize: ICON_SIZES.small.name,\n        autoHideSecondary: false\n      },\n      scope: SETTING_SCOPE.client,\n      config: false, \n      requiresReload: false \n    },\n\n    cameraDockMenu: {\n      tag: \"camera-dock-menu\", \n      label: game.i18n.localize(\"CRLNGN_UI.settings.cameraDockMenu.label\"),\n      hint: game.i18n.localize(\"CRLNGN_UI.settings.cameraDockMenu.hint\"),\n      propType: Object,\n      inputType: SETTING_INPUT.button,\n      fields: {\n        enableFloatingDock: { \n          tag: \"enable-floating-camera-dock\", \n          label: game.i18n.localize(\"CRLNGN_UI.settings.cameraDockMenu.fields.enableFloatingDock.label\"), \n          hint: game.i18n.localize(\"CRLNGN_UI.settings.cameraDockMenu.fields.enableFloatingDock.hint\"), \n          inputType: SETTING_INPUT.checkbox\n        },\n        dockPosX: {\n          tag: \"camera-dock-x\",\n          label: game.i18n.localize(\"CRLNGN_UI.settings.cameraDockMenu.fields.dockPosX.label\"),\n          hint: game.i18n.localize(\"CRLNGN_UI.settings.cameraDockMenu.fields.dockPosX.hint\"),\n          inputType: SETTING_INPUT.number\n        },\n        dockPosY: {\n          tag: \"camera-dock-y\",\n          label: game.i18n.localize(\"CRLNGN_UI.settings.cameraDockMenu.fields.dockPosY.label\"),\n          hint: game.i18n.localize(\"CRLNGN_UI.settings.cameraDockMenu.fields.dockPosY.hint\"),\n          inputType: SETTING_INPUT.number\n        },\n        dockWidth: {\n          tag: \"camera-dock-width\",\n          label: game.i18n.localize(\"CRLNGN_UI.settings.cameraDockMenu.fields.dockWidth.label\"),\n          hint: game.i18n.localize(\"CRLNGN_UI.settings.cameraDockMenu.fields.dockWidth.hint\"),\n          inputType: SETTING_INPUT.number\n        },\n        dockHeight: {\n          tag: \"camera-dock-height\",\n          label: game.i18n.localize(\"CRLNGN_UI.settings.cameraDockMenu.fields.dockHeight.label\"),\n          hint: game.i18n.localize(\"CRLNGN_UI.settings.cameraDockMenu.fields.dockHeight.hint\"),\n          inputType: SETTING_INPUT.number\n        }\n      },\n      default: {\n        enableFloatingDock: true,\n        dockPosX: 0,\n        dockPosY: 120,\n        dockWidth: 140,\n        dockHeight: 140\n      },\n      scope: SETTING_SCOPE.client,\n      config: false, \n      requiresReload: false \n    },\n    \n    enableChatStyles: { \n      tag: \"enable-chat-styles\", \n      label: game.i18n.localize(\"CRLNGN_UI.settings.enableChatStyles.label\"), \n      hint: game.i18n.localize(\"CRLNGN_UI.settings.enableChatStyles.hint\"), \n      propType: Boolean, \n      inputType: SETTING_INPUT.checkbox, \n      default: true, \n      scope: SETTING_SCOPE.client, \n      config: true, \n      requiresReload: true \n    }, \n\n    sceneNavCollapsed: { \n      tag: \"scene-nav-collapsed\", \n      label: game.i18n.localize(\"CRLNGN_UI.settings.sceneNavCollapsed.label\"), \n      hint: game.i18n.localize(\"CRLNGN_UI.settings.sceneNavCollapsed.hint\"), \n      propType: Boolean, \n      inputType: SETTING_INPUT.checkbox, \n      default: true, \n      scope: SETTING_SCOPE.client, \n      config: false \n    },\n\n    sceneNavEnabled: { \n      tag: \"scene-nav-enabled\", \n      label: game.i18n.localize(\"CRLNGN_UI.settings.sceneNavEnabled.label\"), \n      hint: game.i18n.localize(\"CRLNGN_UI.settings.sceneNavEnabled.hint\"), \n      propType: Boolean, \n      inputType: SETTING_INPUT.checkbox, \n      default: true, \n      scope: SETTING_SCOPE.client, \n      config: true, \n      requiresReload: true \n    },\n\n    showSceneNavOnHover: { \n      tag: \"show-scene-nav-on-hover\", \n      label: game.i18n.localize(\"CRLNGN_UI.settings.showSceneNavOnHover.label\"), \n      hint: game.i18n.localize(\"CRLNGN_UI.settings.showSceneNavOnHover.hint\"), \n      propType: Boolean,\n      inputType: SETTING_INPUT.checkbox,\n      default: true, \n      scope: SETTING_SCOPE.client, \n      config: true, \n      requiresReload: false \n    },\n\n    sceneNavPos: { \n      tag: \"scene-nav-pos\", \n      label: game.i18n.localize(\"CRLNGN_UI.settings.sceneNavPos.label\"), \n      hint: game.i18n.localize(\"CRLNGN_UI.settings.sceneNavPos.hint\"), \n      propType: Number, \n      inputType: SETTING_INPUT.number, \n      default: 0, \n      scope: SETTING_SCOPE.client, \n      config: false \n    },\n\n    enableMacroLayout: { \n      tag: \"enable-macro-layout\", \n      label: game.i18n.localize(\"CRLNGN_UI.settings.enableMacroLayout.label\"), \n      hint: game.i18n.localize(\"CRLNGN_UI.settings.enableMacroLayout.hint\"), \n      propType: Boolean,\n      inputType: SETTING_INPUT.checkbox,\n      default: true, \n      scope: SETTING_SCOPE.client, \n      config: true, \n      requiresReload: false \n    },\n\n    collapseMacroBar: { \n      tag: \"collapse-macro-bar\", \n      label: game.i18n.localize(\"CRLNGN_UI.settings.collapseMacroBar.label\"), \n      hint: game.i18n.localize(\"CRLNGN_UI.settings.collapseMacroBar.hint\"), \n      propType: Boolean,\n      inputType: SETTING_INPUT.checkbox,\n      default: true, \n      scope: SETTING_SCOPE.client, \n      config: true, \n      requiresReload: false \n    },\n\n    autoHidePlayerList: { \n      tag: \"auto-hide-player-list\", \n      label: game.i18n.localize(\"CRLNGN_UI.settings.autoHidePlayersList.label\"), \n      hint: game.i18n.localize(\"CRLNGN_UI.settings.autoHidePlayersList.hint\"), \n      propType: Boolean,\n      inputType: SETTING_INPUT.checkbox,\n      default: true, \n      scope: SETTING_SCOPE.client, \n      config: true, \n      requiresReload: false \n    },\n\n    debugMode: { \n      tag: \"debug-mode\", \n      label: game.i18n.localize(\"CRLNGN_UI.settings.debugMode.label\"), \n      hint: game.i18n.localize(\"CRLNGN_UI.settings.debugMode.hint\"), \n      propType: Boolean,\n      inputType: SETTING_INPUT.checkbox,\n      default: false,\n      scope: SETTING_SCOPE.client,\n      config: true\n    },\n\n  }\n\n}\n","import { getSettings } from \"../../constants/Settings.mjs\";\nimport { LogUtil } from \"../LogUtil.mjs\";\nimport { SettingsUtil } from \"../SettingsUtil.mjs\";\n// import * as lang from '../../lang/en.json' assert { type: 'json' };\n\n/**\n * Classes for Settings Submenus \n */\nconst { ApplicationV2, HandlebarsApplicationMixin } = foundry.applications.api;\n\nexport class CameraDockSettings extends HandlebarsApplicationMixin(ApplicationV2) {\n  static get DEFAULT_OPTIONS() {\n    const SETTINGS = getSettings();\n    return {\n      id: SETTINGS.cameraDockMenu.tag,\n      actions: {\n        redefine: CameraDockSettings.#onReset,\n      },\n      // classes: [\"standard-form\"],\n      form: {\n        handler: CameraDockSettings.#onSubmit,\n        closeOnSubmit: true,\n      },\n      position: {\n        width: 480,\n        height: \"auto\",\n      },\n      tag: \"form\",\n      window: {\n        icon: \"fas fa-camera\",\n        title: game.i18n.localize(\"CRLNGN_UI.settings.cameraDockMenu.title\"),\n        contentClasses: [\"standard-form\", \"crlngn\"],\n        resizable: false\n      }\n    }\n  }\n\n  // Define template parts\n  static PARTS = {\n    content: {\n      template: \"modules/crlngn-ui/templates/camera-dock-settings.hbs\",\n    },\n    footer: {\n      template: \"templates/generic/form-footer.hbs\"\n      // \"templates/generic/custom-fonts-settings-footer.hbs\",\n    },\n  };\n  \n  get title() {\n    return game.i18n.localize(\"CRLNGN_UI.settings.cameraDockMenu.title\");\n    // return `My Module: ${game.i18n.localize(this.options.window.title)}`;\n  }\n\n\n  /** \n   * Handles form submission and updates FoundryVTT settings.\n   * Uses `foundry.utils.expandObject()` to parse form data.\n   */\n  static async #onSubmit(event, form, formData) {\n    const SETTINGS = getSettings();\n    let controlSettings = SettingsUtil.get(SETTINGS.cameraDockMenu.tag);\n    let isFloating = controlSettings.enableFloatingDock;\n    event.preventDefault();\n    event.stopPropagation();\n\n    // Convert FormData into an object with proper keys\n    const settings = foundry.utils.expandObject(formData.object);\n\n    await SettingsUtil.set(SETTINGS.cameraDockMenu.tag, settings);\n    controlSettings = SettingsUtil.get(SETTINGS.cameraDockMenu.tag);\n\n    LogUtil.log(\"Saving settings:\", [SETTINGS.cameraDockMenu.tag, form, formData.object, settings, controlSettings]); // Debugging\n\n    ui.notifications.info(game.i18n.localize('CRLNGN_UI.ui.notifications.settingsUpdated'));\n\n    if(controlSettings.enableFloatingDock != isFloating){\n      location.reload();\n    }\n  }\n\n  static async #onReset(a, b){\n    const SETTINGS = getSettings();\n    const html = this.element;\n    const inputs = html.querySelectorAll(\"input, select\");\n    const defaults = SETTINGS.cameraDockMenu.default;\n\n    inputs.forEach(inputField => {\n      inputField.value = defaults[inputField.name];\n      if(inputField.type==='checkbox'){\n        inputField.checked = defaults[inputField.name];\n      }\n    })\n\n    LogUtil.log(\"#onReset\", [a, b, SETTINGS.cameraDockMenu.default]);\n  }\n\n  /**\n   * Prepare context to be sent to handlebars template\n   * @param {*} options \n   * @returns \n   */\n  _prepareContext(options) {\n    const SETTINGS = getSettings();\n    const setting = {\n      ...SettingsUtil.get(SETTINGS.cameraDockMenu.tag),\n      default: {\n        ...SETTINGS.cameraDockMenu.default\n      },\n      fields: { ...SETTINGS.cameraDockMenu.fields },\n      buttons: [ \n        { type: \"button\", icon: \"\", label: \"CRLNGN_UI.settings.cameraDockMenu.reset\", action: 'redefine' },\n        { type: \"submit\", icon: \"\", label: \"CRLNGN_UI.settings.cameraDockMenu.save\" }\n      ]\n    }\n    // game.settings.get(\"foo\", \"config\");\n\n    LogUtil.log(\"_prepareContext\", [setting, options]);\n    return setting;\n  }\n\n  /**\n   * Prepare context that is specific to only a single rendered part.\n   *\n   * It is recommended to augment or mutate the shared context so that downstream methods like _onRender have\n   * visibility into the data that was used for rendering. It is acceptable to return a different context object\n   * rather than mutating the shared context at the expense of this transparency.\n   *\n   * @param {string} partId                         The part being rendered\n   * @param {ApplicationRenderContext} context      Shared context provided by _prepareContext\n   * @returns {Promise<ApplicationRenderContext>}   Context data for a specific part\n   * @protected\n   */\n  async _preparePartContext(partId, context) {\n    context.partId = `${partId}-${this.id}`;\n    LogUtil.log(\"_preparePartContext\",[partId, context]);\n    return context;\n  }\n\n  _onRender(context, options) {\n    const SETTINGS = getSettings();\n    // const html = this.element;\n    // html.querySelector(\"button[type=reset]\").addEventListener(\"click\", CameraDockSettings.#onReset);\n\n    const controlSettings = SettingsUtil.get(SETTINGS.cameraDockMenu.tag);\n\n    LogUtil.log(\"_onRender\", [context, options, controlSettings]);\n  }\n\n\n}\n","import { LogUtil } from \"../LogUtil.mjs\";\nimport { Main } from \"../Main.mjs\";\nimport { SettingsUtil } from \"../SettingsUtil.mjs\";\n\n/**\n * Classes for Settings Submenus \n */\nconst { ApplicationV2, HandlebarsApplicationMixin } = foundry.applications.api;\n\nexport class CustomFontsSettings extends HandlebarsApplicationMixin(ApplicationV2) {\n  static get DEFAULT_OPTIONS() {\n    return {\n      id: Main.SETTINGS.customFontsMenu.tag,\n      actions: {\n        redefine: CustomFontsSettings.#onReset,\n      },\n      // classes: [\"standard-form\"],\n      form: {\n        handler: CustomFontsSettings.#onSubmit,\n        closeOnSubmit: true,\n      },\n      position: {\n        width: 480,\n        height: \"auto\",\n      },\n      tag: \"form\",\n      window: {\n        icon: \"fas fa-text\",\n        title: game.i18n.localize(\"CRLNGN_UI.settings.customFontsDialog.title\"),\n        contentClasses: [\"standard-form\"],\n        resizable: false\n      }\n    }\n  }\n\n  // Define template parts\n  static PARTS = {\n    content: {\n      template: \"modules/crlngn-ui/templates/custom-fonts-settings.hbs\",\n    },\n    footer: {\n      template: \"templates/generic/form-footer.hbs\"\n      // \"templates/generic/custom-fonts-settings-footer.hbs\",\n    },\n  };\n  \n  get title() {\n    return game.i18n.localize(\"CRLNGN_UI.settings.customFontsDialog.title\");\n    // return `My Module: ${game.i18n.localize(this.options.window.title)}`;\n  }\n\n  // static async #onSubmit(event, form, formData) {\n  //   const settings = foundry.utils.expandObject(formData.object);\n  //   await Promise(SettingsUtil.set(customFontSetting.tag, settings));\n  //   /*\n  //   await Promise.all(\n  //       Object.entries(settings)\n  //           .map(([key, value]) => game.settings.set(\"foo\", key, value))\n  //   )\n  //   */\n  // }\n\n\n  /** \n   * Handles form submission and updates FoundryVTT settings.\n   * Uses `foundry.utils.expandObject()` to parse form data.\n   */\n  static async #onSubmit(event, form, formData) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    // Convert FormData into an object with proper keys\n    const settings = foundry.utils.expandObject(formData.object);\n    LogUtil.log(\"Saving settings:\", [settings]); // Debugging\n    // const customFontsSettings = SettingsUtil.get(Main.SETTINGS.customFontsMenu.tag);\n\n    SettingsUtil.set(Main.SETTINGS.customFontsMenu.tag, settings);\n    // // Store each setting in FoundryVTT settings\n    // await Promise.all(\n    //   Object.entries(settings).map(([key, value]) =>\n    //     SettingsUtil.set(Main.SETTINGS.customFontsMenu.tag, {\n    //       // ...customFontsSettings,\n    //       [key]: value\n    //     })\n    //   )\n    // );\n\n    ui.notifications.info(game.i18n.localize('CRLNGN_UI.ui.notifications.settingsUpdated'));\n  }\n\n  /**\n   * Prepare context to be sent to handlebars template\n   * @param {*} options \n   * @returns \n   */\n  _prepareContext(options) {\n    const setting = {\n      ...SettingsUtil.get(Main.SETTINGS.customFontsMenu.tag),\n      default: {\n        ...Main.SETTINGS.customFontsMenu.default\n      },\n      buttons: [\n        { type: \"button\", icon: \"\", label: \"CRLNGN_UI.settings.customFontsDialog.reset\", action: 'redefine' },\n        { type: \"submit\", icon: \"\", label: \"CRLNGN_UI.settings.customFontsDialog.save\" }\n      ]\n    }\n    // game.settings.get(\"foo\", \"config\");\n\n    LogUtil.log(\"_prepareContext\", [setting, options]);\n    return setting;\n  }\n\n  /**\n   * Prepare context that is specific to only a single rendered part.\n   *\n   * It is recommended to augment or mutate the shared context so that downstream methods like _onRender have\n   * visibility into the data that was used for rendering. It is acceptable to return a different context object\n   * rather than mutating the shared context at the expense of this transparency.\n   *\n   * @param {string} partId                         The part being rendered\n   * @param {ApplicationRenderContext} context      Shared context provided by _prepareContext\n   * @returns {Promise<ApplicationRenderContext>}   Context data for a specific part\n   * @protected\n   */\n  async _preparePartContext(partId, context) {\n    context.partId = `${partId}-${this.id}`;\n    LogUtil.log(\"_preparePartContext\",[partId, context]);\n    return context;\n  }\n\n  _onRender(context, options) {\n    // const html = this.element;\n    // html.querySelector(\"button[type=reset]\").addEventListener(\"click\", CustomFontsSettings.#onReset);\n\n    LogUtil.log(\"_onRender\", [context, options]);\n  }\n\n  static async #onReset(a, b){\n    const html = this.element;\n    const inputs = html.querySelectorAll(\"input[type=text]\");\n    const defaults = Main.SETTINGS.customFontsMenu.default;\n\n    inputs.forEach(inputField => {\n      inputField.value = defaults[inputField.name];\n    })\n    // html.querySelector(\"button[type=reset]\").addEventListener(\"click\", CustomFontsSettings.#onReset);\n    // event.preventDefault();\n    LogUtil.log(\"#onReset\", [a, b, Main.SETTINGS.customFontsMenu.default]);\n\n    // await SettingsUtil.set(Main.SETTINGS.customFontsMenu.tag, Main.SETTINGS.customFontsMenu.default);\n  }\n\n}\n","import { getSettings } from \"../../constants/Settings.mjs\";\nimport { LogUtil } from \"../LogUtil.mjs\";\nimport { SettingsUtil } from \"../SettingsUtil.mjs\";\n// import * as lang from '../../lang/en.json' assert { type: 'json' };\n\n/**\n * Classes for Settings Submenus \n */\nconst { ApplicationV2, HandlebarsApplicationMixin } = foundry.applications.api;\n\nexport class LeftControlsSettings extends HandlebarsApplicationMixin(ApplicationV2) {\n  static get DEFAULT_OPTIONS() {\n    const SETTINGS = getSettings();\n    return {\n      id: SETTINGS.leftControlsMenu.tag,\n      actions: {\n        redefine: LeftControlsSettings.#onReset,\n      },\n      // classes: [\"standard-form\"],\n      form: {\n        handler: LeftControlsSettings.#onSubmit,\n        closeOnSubmit: true,\n      },\n      position: {\n        width: 480,\n        height: \"auto\",\n      },\n      tag: \"form\",\n      window: {\n        icon: \"fas fa-cog\",\n        title: game.i18n.localize(\"CRLNGN_UI.settings.leftControlsMenu.title\"),\n        contentClasses: [\"standard-form\", \"crlngn\"],\n        resizable: false\n      }\n    }\n  }\n\n  // Define template parts\n  static PARTS = {\n    content: {\n      template: \"modules/crlngn-ui/templates/left-controls-settings.hbs\",\n    },\n    footer: {\n      template: \"templates/generic/form-footer.hbs\"\n      // \"templates/generic/custom-fonts-settings-footer.hbs\",\n    },\n  };\n  \n  get title() {\n    return game.i18n.localize(\"CRLNGN_UI.settings.leftControlsMenu.title\");\n    // return `My Module: ${game.i18n.localize(this.options.window.title)}`;\n  }\n\n\n  /** \n   * Handles form submission and updates FoundryVTT settings.\n   * Uses `foundry.utils.expandObject()` to parse form data.\n   */\n  static async #onSubmit(event, form, formData) {\n    const SETTINGS = getSettings();\n    event.preventDefault();\n    event.stopPropagation();\n\n    // Convert FormData into an object with proper keys\n    const settings = foundry.utils.expandObject(formData.object);\n\n    await SettingsUtil.set(SETTINGS.leftControlsMenu.tag, settings);\n    const controlSettings = SettingsUtil.get(SETTINGS.leftControlsMenu.tag);\n\n    LogUtil.log(\"Saving settings:\", [SETTINGS.leftControlsMenu.tag, form, formData.object, settings, controlSettings]); // Debugging\n    // // Store each setting in FoundryVTT settings\n    // await Promise.all(\n    //   Object.entries(settings).map(([key, value]) =>\n    //     SettingsUtil.set(SETTINGS.leftControlsMenu.tag, {\n    //       // ...customFontsSettings,\n    //       [key]: value\n    //     })\n    //   )\n    // );\n\n    ui.notifications.info(game.i18n.localize('CRLNGN_UI.ui.notifications.settingsUpdated'));\n  }\n\n  static async #onReset(a, b){\n    const SETTINGS = getSettings();\n    const html = this.element;\n    const inputs = html.querySelectorAll(\"input, select\");\n    const defaults = SETTINGS.leftControlsMenu.default;\n\n    inputs.forEach(inputField => {\n      inputField.value = defaults[inputField.name];\n      if(inputField.type==='checkbox'){\n        inputField.checked = defaults[inputField.name];\n      }\n    })\n\n    LogUtil.log(\"#onReset\", [a, b, SETTINGS.leftControlsMenu.default]);\n    // await SettingsUtil.set(SETTINGS.leftControlsMenu.tag, SETTINGS.leftControlsMenu.default);\n  }\n\n  /**\n   * Prepare context to be sent to handlebars template\n   * @param {*} options \n   * @returns \n   */\n  _prepareContext(options) {\n    const SETTINGS = getSettings();\n    const setting = {\n      ...SettingsUtil.get(SETTINGS.leftControlsMenu.tag),\n      default: {\n        ...SETTINGS.leftControlsMenu.default\n      },\n      fields: { ...SETTINGS.leftControlsMenu.fields },\n      buttons: [ \n        { type: \"button\", icon: \"\", label: \"CRLNGN_UI.settings.leftControlsMenu.reset\", action: 'redefine' },\n        { type: \"submit\", icon: \"\", label: \"CRLNGN_UI.settings.leftControlsMenu.save\" }\n      ]\n    }\n    // game.settings.get(\"foo\", \"config\");\n\n    LogUtil.log(\"_prepareContext\", [setting, options]);\n    return setting;\n  }\n\n  /**\n   * Prepare context that is specific to only a single rendered part.\n   *\n   * It is recommended to augment or mutate the shared context so that downstream methods like _onRender have\n   * visibility into the data that was used for rendering. It is acceptable to return a different context object\n   * rather than mutating the shared context at the expense of this transparency.\n   *\n   * @param {string} partId                         The part being rendered\n   * @param {ApplicationRenderContext} context      Shared context provided by _prepareContext\n   * @returns {Promise<ApplicationRenderContext>}   Context data for a specific part\n   * @protected\n   */\n  async _preparePartContext(partId, context) {\n    context.partId = `${partId}-${this.id}`;\n    LogUtil.log(\"_preparePartContext\",[partId, context]);\n    return context;\n  }\n\n  _onRender(context, options) {\n    const SETTINGS = getSettings();\n    // const html = this.element;\n    // html.querySelector(\"button[type=reset]\").addEventListener(\"click\", LeftControlsSettings.#onReset);\n\n    const controlSettings = SettingsUtil.get(SETTINGS.leftControlsMenu.tag);\n\n    LogUtil.log(\"_onRender\", [context, options, controlSettings]);\n  }\n\n\n}\n","// import * as lang from '../lang/en.json';\nimport { CameraDockSettings } from '../components/settings-dialogs/CameraDockSettings.mjs';\nimport { CustomFontsSettings } from '../components/settings-dialogs/CustomFontSettings.mjs';\nimport { LeftControlsSettings } from '../components/settings-dialogs/LeftControlsSettings.mjs';\n// import * as lang from '../lang/en.json' assert { type: \"json\" };\n\nexport function getSettingMenus() {\n  return {\n    customFonts: {\n      tag: game.i18n.localize(\"CRLNGN_UI.settings.customFontsDialog.label\"),\n      name: game.i18n.localize(\"CRLNGN_UI.settings.customFontsDialog.title\"),\n      label: game.i18n.localize(\"CRLNGN_UI.settings.customFontsDialog.title\"), \n      hint: game.i18n.localize(\"CRLNGN_UI.settings.customFontsMenu.hint\"),\n      icon: \"fas fa-text\",  \n      propType: CustomFontsSettings,\n      restricted: false \n    },\n    leftControls: {\n      tag: game.i18n.localize(\"CRLNGN_UI.settings.leftControlsMenu.label\"),\n      name: game.i18n.localize(\"CRLNGN_UI.settings.leftControlsMenu.title\"),\n      label: game.i18n.localize(\"CRLNGN_UI.settings.leftControlsMenu.title\"), \n      hint: game.i18n.localize(\"CRLNGN_UI.settings.leftControlsMenu.hint\"),\n      icon: \"fas fa-cog\",\n      propType: LeftControlsSettings,\n      restricted: false \n    },\n    cameraDockMenu: {\n      tag: game.i18n.localize(\"CRLNGN_UI.settings.cameraDockMenu.label\"),\n      name: game.i18n.localize(\"CRLNGN_UI.settings.cameraDockMenu.title\"),\n      label: game.i18n.localize(\"CRLNGN_UI.settings.cameraDockMenu.title\"), \n      hint: game.i18n.localize(\"CRLNGN_UI.settings.cameraDockMenu.hint\"),\n      icon: \"fas fa-camera\",  \n      propType: CameraDockSettings,\n      restricted: false \n    }\n  };\n}","\nexport class GeneralUtil {\n  /**\n   * Checks if module is currently installed and active\n   * @param {string} moduleName \n   * @returns \n   */\n  static isModuleOn(moduleName){\n    const module = game.modules?.get(moduleName);\n    // LogUtil.log(\"isModuleOn\", [module?.active]);\n    return module?.active ? true : false;\n  }\n\n  static html(parent, selector) {\n    return parent.querySelector(selector);\n  }\n\n  static getFullWidth(element) {\n    const style = window.getComputedStyle(element);\n    if (style.width === '0px') {\n      return 0;\n    }\n    return element.offsetWidth;\n  }\n\n  static getOffsetBottom(element) {\n    const offsetTop = element.offsetTop;\n    const elementHeight = element.offsetHeight;\n    const offsetParent = element.offsetParent;\n    const parentHeight = offsetParent ? offsetParent.clientHeight : window.innerHeight;\n  \n    return parentHeight - (offsetTop + elementHeight);\n  }\n}\n","import { HOOKS_CORE } from \"../constants/Hooks.mjs\";\nimport { getSettings } from \"../constants/Settings.mjs\";\nimport { GeneralUtil } from \"./GeneralUtil.mjs\";\nimport { LogUtil } from \"./LogUtil.mjs\";\nimport { SettingsUtil } from \"./SettingsUtil.mjs\";\nimport { Main } from \"./Main.mjs\";\n\nexport class CameraUtil {\n  static #offsetX = 0;\n  static #offsetY = 0;\n  static isDragging = false;\n  static cameraContainer;\n  //resizing\n  static isResizing = false;\n  static #startX = 0;\n  static #startY = 0;\n  static #startWidth = 0;\n  static #startHeight = 0;\n  static #startBottom = 0;\n\n  static init(){\n    const SETTINGS = getSettings();\n    const cameraSettings = SettingsUtil.get(SETTINGS.cameraDockMenu.tag);\n\n    if(cameraSettings.enableFloatingDock){ \n      Hooks.on(HOOKS_CORE.RENDER_CAMERA_VIEWS, CameraUtil.onRenderFloating);\n      LogUtil.log(\"CameraUtil\", [cameraSettings]);\n      CameraUtil.onRenderFloating();\n    }else{ \n      Hooks.on(HOOKS_CORE.RENDER_CAMERA_VIEWS, CameraUtil.onRenderPlain);\n      CameraUtil.onRenderPlain();\n    } \n  }\n\n  static onRenderPlain(){\n    document.querySelector('#camera-views')?.classList.add('visible');\n  }\n\n  static onRenderFloating(){\n    const SETTINGS = getSettings();\n    const cameraSettings = SettingsUtil.get(SETTINGS.cameraDockMenu.tag);\n\n    document.querySelector('#camera-views')?.classList.add('crlngn-ui');\n    CameraUtil.cameraContainer = document.querySelector('#camera-views .camera-container');\n\n    const controlsElem = document.querySelector('#camera-views .user-controls');\n    const cameraGrid = document.querySelector('#camera-views .camera-grid');\n\n    LogUtil.log(\"CameraUtil.onRender\", [ cameraSettings.dockPosX, cameraSettings.dockPosY ]);\n\n    if(CameraUtil.cameraContainer && cameraGrid && controlsElem){\n      CameraUtil.cameraContainer?.insertBefore(controlsElem, cameraGrid);\n      document.querySelector('#camera-views .camera-container')?.classList.add('visible');\n    }\n    CameraUtil.makeDraggable();\n    CameraUtil.makeResizeable();\n    CameraUtil.resetPositionAndSize();\n    CameraUtil.placeControlsToggle();\n  }\n\n  static placeControlsToggle(){ \n    const camControls = document.querySelector('#camera-views .user-controls');\n    const existingButtons = camControls?.querySelectorAll(\".crlngn-video-toggle\");\n    LogUtil.log(\"placeControlsToggle\", [camControls, existingButtons]);\n\n    if(existingButtons?.length > 0){\n      return; \n    }\n\n    const controlBar = document.querySelector('#camera-views .user-controls .control-bar');\n    const btnToggle = document.createElement(\"button\"); \n    btnToggle.classList.add(\"crlngn-video-toggle\"); \n    btnToggle.innerHTML = '<i class=\"fa fa-play-circle\" aria-hidden=\"true\"></i>';\n\n    camControls?.insertBefore(btnToggle, controlBar);\n  }\n\n  static makeDraggable(){\n    CameraUtil.cameraContainer?.addEventListener(\"mousedown\", (e) => {\n      const body = document.querySelector(\"body.crlngn-ui\");\n      LogUtil.log(\"mousedown\", [ e.target ]);\n      if(e.target.parentNode?.classList.contains('volume-bar')){\n        return;\n      }\n      body?.addEventListener(\"mousemove\", CameraUtil.#onDragMove);\n      body?.addEventListener(\"mouseup\", CameraUtil.#onDragRelease); \n\n      const offsetBottom = GeneralUtil.getOffsetBottom(CameraUtil.cameraContainer);\n      CameraUtil.isDragging = true;\n      CameraUtil.#offsetX = e.clientX - CameraUtil.cameraContainer?.offsetLeft;\n      CameraUtil.#offsetY = (window.innerHeight - e.clientY) - offsetBottom;\n      // CameraUtil.cameraContainer.style.zIndex = \"101\"; \n\n      e.stopPropagation();\n    }); \n\n  }\n\n  static makeResizeable(){\n    if(CameraUtil.cameraContainer){\n      const body = document.querySelector(\"body.crlngn-ui\");\n      const resizeHandle = document.createElement(\"div\");\n      resizeHandle.classList.add(\"resize-handle\");\n      CameraUtil.cameraContainer.append(resizeHandle);\n\n      resizeHandle.addEventListener(\"mousedown\", (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        CameraUtil.isResizing = true;\n    \n        CameraUtil.#startX = e.clientX;\n        CameraUtil.#startY = e.clientY;\n        CameraUtil.#startBottom = parseInt(getComputedStyle(CameraUtil.cameraContainer).bottom) || 0;\n        CameraUtil.#startWidth = CameraUtil.cameraContainer.offsetWidth;\n        CameraUtil.#startHeight = CameraUtil.cameraContainer.offsetHeight;\n\n    \n        body?.addEventListener(\"mousemove\", CameraUtil.#onResize);\n        body?.addEventListener(\"mouseup\", CameraUtil.#onStopResize);\n      });\n    }\n  }\n\n  static resetPositionAndSize({x, y, w, h} = { x: null, y: null, w: null, h: null }){\n    const SETTINGS = getSettings();\n    const cameraSettings = SettingsUtil.get(SETTINGS.cameraDockMenu.tag);\n\n    if(!cameraSettings.enableFloatingDock || !CameraUtil.cameraContainer){ return }\n    if(!x && !y && !w && !h){\n      const savedPosX = cameraSettings.dockPosX || 0;\n      const savedPosY = cameraSettings.dockPosY || 0;\n      const savedWidth = cameraSettings.dockWidth || 0;\n      const savedHeight = cameraSettings.dockHeight || 0;\n\n      CameraUtil.cameraContainer.style.left = `${savedPosX}px`;\n      CameraUtil.cameraContainer.style.bottom = `${savedPosY}px`;\n      CameraUtil.cameraContainer.style.width = `${savedWidth}px`;\n      CameraUtil.cameraContainer.style.height = `${savedHeight}px`;\n    }else{\n      if(x){\n        CameraUtil.cameraContainer.style.left = `${x}px`;\n      }\n      if(y){\n        CameraUtil.cameraContainer.style.bottom = `${y}px`;\n      }\n      if(w){\n        CameraUtil.cameraContainer.style.width = `${w}px`;\n      }\n      if(h){\n        CameraUtil.cameraContainer.style.height = `${h}px`;\n      }\n    }\n    \n  }\n\n  // when user releases element\n  static #onDragRelease(e){\n    const SETTINGS = getSettings();\n    const cameraSettings = {...SettingsUtil.get(SETTINGS.cameraDockMenu.tag)};\n\n    if(CameraUtil.isDragging){\n      const body = document.querySelector(\"body.crlngn-ui\");\n      cameraSettings.dockPosX = parseInt(CameraUtil.cameraContainer?.style.left) || 0;\n      cameraSettings.dockPosY = parseInt(CameraUtil.cameraContainer?.style.bottom) || 0;\n      SettingsUtil.set(SETTINGS.cameraDockMenu.tag, cameraSettings);\n      \n      body?.removeEventListener(\"mousemove\", CameraUtil.#onDragMove); \n      body?.removeEventListener(\"mouseup\", CameraUtil.#onDragRelease); \n  \n      CameraUtil.isDragging = false; \n      e.stopPropagation(); \n    }\n    \n  } \n\n  // when user drags element\n  static #onDragMove(e){ \n    if (!CameraUtil.isDragging) return; \n    LogUtil.log(\"mousemove\", [ e.target.parentNode ]); \n    \n    if(CameraUtil.cameraContainer){\n      let left = e.clientX - CameraUtil.#offsetX;\n      let bottom = (window.innerHeight - e.clientY) -  CameraUtil.#offsetY;\n\n      if(left + CameraUtil.cameraContainer.offsetWidth > window.innerWidth){  \n        left = window.innerWidth - CameraUtil.cameraContainer.offsetWidt;\n      }\n      CameraUtil.cameraContainer.style.left = `${left}px`;\n\n      if(bottom + CameraUtil.cameraContainer.offsetHeight > window.innerHeight){  \n        bottom = window.innerHeight - CameraUtil.cameraContainer.offsetHeight;\n      } \n      CameraUtil.cameraContainer.style.bottom = `${bottom}px`;\n    }\n    // e.stopPropagation(); \n  } \n\n  // when user drags the resize handle\n  static #onResize(e) {\n    if (!CameraUtil.isResizing) return;\n    const newWidth = CameraUtil.#startWidth + (e.clientX - CameraUtil.#startX);\n    const deltaY = e.clientY - CameraUtil.#startY; // How much the mouse moved\n    const newHeight = CameraUtil.#startHeight + deltaY;\n    const newBottom = CameraUtil.#startBottom - deltaY;\n\n    CameraUtil.cameraContainer.style.width = `${newWidth}px`;\n    CameraUtil.cameraContainer.style.height = `${newHeight}px`;\n    CameraUtil.cameraContainer.style.bottom = `${newBottom}px`;\n  }\n\n  // when user releases the resize handle\n  static #onStopResize() {\n    const SETTINGS = getSettings();\n    const cameraSettings = {...SettingsUtil.get(SETTINGS.cameraDockMenu.tag)};\n\n    const body = document.querySelector(\"body.crlngn-ui\");\n    CameraUtil.isResizing = false;\n    body?.removeEventListener(\"mousemove\", CameraUtil.#onResize);\n    body?.removeEventListener(\"mouseup\", CameraUtil.#onStopResize);\n\n    LogUtil.log(\"onStopResize\", [CameraUtil.cameraContainer?.style.width, CameraUtil.cameraContainer?.style.height, CameraUtil.cameraContainer?.style.bottom]);\n\n    cameraSettings.dockWidth = parseInt(CameraUtil.cameraContainer?.style.width || 0);\n    cameraSettings.dockHeight = parseInt(CameraUtil.cameraContainer?.style.height || 0);\n    cameraSettings.dockPosY = parseInt(CameraUtil.cameraContainer?.style.bottom || 0);\n\n    SettingsUtil.set(Main.SETTINGS.cameraDockMenu.tag, cameraSettings);\n  }\n\n}","import { MODULE_ID, MODULE_SHORT } from \"../constants/General.mjs\";\nimport { HOOKS_CORE } from \"../constants/Hooks.mjs\";\nimport { getSettingMenus } from \"../constants/SettingMenus.mjs\";\nimport { getSettings, ICON_SIZES } from \"../constants/Settings.mjs\";\nimport { CameraUtil } from \"./CameraUtil.mjs\";\nimport { LogUtil } from \"./LogUtil.mjs\";\nimport { Main } from \"./Main.mjs\";\n\nexport class SettingsUtil {\n  /**\n   * Registers settings for this module\n   */\n  static registerSettings(){\n    document.querySelector(\"body\").classList.add(MODULE_SHORT); \n    /**\n     * Register each of the settings defined in the SETTINGS constant \n     */\n    const settingsList = Object.entries(Main.SETTINGS);\n    settingsList.forEach(async(entry) => {\n      const setting = entry[1]; \n      LogUtil.log(\"Registering... \",[entry]);\n\n      const settingObj = { \n        name: setting.label,\n        hint: setting.hint,\n        default: setting.default,\n        type: setting.propType,\n        scope: setting.scope,\n        config: setting.config,\n        requiresReload: setting.requiresReload || false,\n        onChange: value => SettingsUtil.apply(setting.tag, value)\n      }\n      if(setting.choices){\n        settingObj.choices = setting.choices\n      }\n\n      await game.settings.register(MODULE_ID, setting.tag, settingObj);\n\n      if(SettingsUtil.get(setting.tag)===undefined){\n        SettingsUtil.set(setting.tag, setting.default);\n      }\n\n      LogUtil.log(\"registerSettings\",[setting.tag, SettingsUtil.get(setting.tag)]);\n    });\n\n    /**\n     * Register subsetting menus\n     */\n    const settingMenus = Object.entries(getSettingMenus());\n    settingMenus.forEach(async(entry) => {\n      const settingMenu = entry[1]; \n      const settingMenuObj = {\n        name: settingMenu.tag,\n        label: settingMenu.label, \n        hint: settingMenu.hint,\n        icon: settingMenu.icon, \n        type: settingMenu.propType,\n        restricted: settingMenu.restricted\n      }\n      await game.settings.registerMenu(MODULE_ID, settingMenu.tag, settingMenuObj); \n    });\n\n    Hooks.on(HOOKS_CORE.RENDER_SCENE_CONTROLS, SettingsUtil.applyLeftControlsSettings);\n    Hooks.on(HOOKS_CORE.RENDER_PLAYERS_LIST, SettingsUtil.applyPlayersListSettings); \n    Hooks.on(HOOKS_CORE.RENDER_HOTBAR, () => {\n      SettingsUtil.applyHotBarSettings();\n      SettingsUtil.applyHotBarCollapse();\n    });\n    SettingsUtil.applySceneNavSettings();\n    \n    // apply chat style settings\n    if(SettingsUtil.get(Main.SETTINGS.enableChatStyles.tag)){ \n      document.querySelector(\"body\").classList.add(\"crlngn-chat\"); \n    }\n\n    // apply custom font settings\n    SettingsUtil.applyCustomFonts();\n    \n\n    // apply left controls settings\n    SettingsUtil.applyLeftControlsSettings(); \n    SettingsUtil.applyControlIconSize();\n  }\n\n  /**\n   * Retrieve the value of a setting for this module\n   * @param {String} settingName \n   * @param {String} moduleName \n   * @returns {*} // current value of the setting\n   */\n  static get(settingName, moduleName=MODULE_ID){\n    if(!settingName){ return null; }\n\n    let setting = false;\n\n    if(moduleName===MODULE_ID){\n      setting = game.settings.get(moduleName, settingName);\n    }else{\n      const client = game.settings.storage.get(\"client\");\n      let selectedSetting = client[`${moduleName}.${settingName}`];\n      //\n      if(selectedSetting===undefined){\n        const world = game.settings.storage.get(\"world\");\n        selectedSetting = world.getSetting(`${moduleName}.${settingName}`);\n      }\n      setting = selectedSetting?.value;\n      LogUtil.log(\"GET Setting\", [selectedSetting, setting]);\n    }\n\n    return setting;\n  }\n  /**\n   * Retrieve the value of a setting for this module\n   * @param {String} settingName \n   * @param {String} moduleName \n   * @returns {*} // current value of the setting\n   */\n  static set(settingName, newValue, moduleName=MODULE_ID){ \n    if(!settingName){ return false; }\n\n    let selectedSetting = game.settings.storage.get(\"client\")[`${moduleName}.${settingName}`];\n\n    if(!selectedSetting){\n      const world = game.settings.storage.get(\"world\");\n      selectedSetting = world.getSetting(`${moduleName}.${settingName}`);\n    } \n    LogUtil.log(\"Setting\",[settingName, selectedSetting]);\n\n    try{\n      game.settings.set(moduleName, settingName, newValue);\n      // selectedSetting.update({value: newValue});\n    }catch(e){\n      LogUtil.log(\"Unable to change setting\",[settingName, selectedSetting]);\n    }\n\n    return true;\n  }\n\n  /**\n   * Apply current settings\n   */\n  static apply(settingTag, value=undefined){\n    const SETTINGS = getSettings();\n\n    if(value===undefined){\n      value = SettingsUtil.get(settingTag);\n    }\n    LogUtil.log(\"SettingsUtil.apply\",[settingTag, value, SettingsUtil.get(settingTag)]); \n    switch(settingTag){\n      case SETTINGS.enableMacroLayout.tag: \n        SettingsUtil.applyHotBarSettings(); break; \n      case SETTINGS.collapseMacroBar.tag:\n        SettingsUtil.applyHotBarCollapse(); break; \n      case SETTINGS.autoHidePlayerList.tag: \n        SettingsUtil.applyPlayersListSettings(); break;\n      case SETTINGS.customFontsMenu.tag:\n        SettingsUtil.applyCustomFonts(value);\n      case SETTINGS.leftControlsMenu.tag:\n        SettingsUtil.applyLeftControlsSettings(); \n        SettingsUtil.applyControlIconSize();\n        break;\n      case SETTINGS.cameraDockMenu.tag: \n        SettingsUtil.applyCameraPosX();\n        SettingsUtil.applyCameraPosY();\n        SettingsUtil.applyCameraWidth();\n        SettingsUtil.applyCameraHeight();\n        break;\n      default:\n        // do nothing\n    }\n    \n  }\n\n\n  static applySettings(){\n    // const settingsList = Object.entries(Main.SETTINGS);\n    // settingsList.forEach((entry) => {\n    //   const setting = entry[1]; \n    //   let currSetting = SettingsUtil.get(setting.tag);\n    //   SettingsUtil.apply(setting.tag, currSetting);\n    // });\n  }\n\n  static applyHotBarSettings(){\n    const macroSizeOption = SettingsUtil.get(Main.SETTINGS.enableMacroLayout.tag);\n    const hotbar = document.querySelector(\"#hotbar\");\n\n    if(!macroSizeOption && hotbar){\n      hotbar.classList.add(\"foundry-default\");\n    }else if(hotbar){\n      hotbar.classList.remove(\"foundry-default\");\n    }\n  }\n  static applyHotBarCollapse(){\n    const macroCollapseOption = SettingsUtil.get(Main.SETTINGS.collapseMacroBar.tag);\n\n    if(macroCollapseOption){\n      ui.hotbar.collapse();\n    }\n  }\n\n  /**\n   * Makes changes to left control auto-hide according to selected settings\n   */\n  static applyLeftControlsSettings(){\n    const SETTINGS = getSettings();\n    const leftControls = SettingsUtil.get(SETTINGS.leftControlsMenu.tag);\n    const controls = document.querySelector(\"#ui-left\");\n\n    if(leftControls.autoHideSecondary){ \n      controls.classList.add(\"auto-hide\"); \n    }else{\n      controls.classList.remove(\"auto-hide\"); \n    }\n  }\n  /**\n   * Makes changes to size of icons in left controls according to selected settings\n   */\n  static applyControlIconSize(){\n    const SETTINGS = getSettings();\n    const leftControls = SettingsUtil.get(SETTINGS.leftControlsMenu.tag);\n    const root = document.querySelector(\"body.crlngn-ui\");\n    const size = leftControls.iconSize == ICON_SIZES.small.name ? ICON_SIZES.small.size : ICON_SIZES.regular.size;\n\n    root.style.setProperty('--left-control-item-size', size);\n  }\n\n  static applyPlayersListSettings(){\n    LogUtil.log(\"applyPlayersListSettings\",[document.querySelector(\"#players\"), SettingsUtil.get(Main.SETTINGS.autoHidePlayerList.tag)]); \n    if(SettingsUtil.get(Main.SETTINGS.autoHidePlayerList.tag)){\n      document.querySelector(\"#players\")?.classList.add(\"auto-hide\");\n    }else{\n      document.querySelector(\"#players\")?.classList.remove(\"auto-hide\");\n    }\n  }\n\n  static applySceneNavSettings(){\n    SettingsUtil.set(Main.SETTINGS.sceneNavPos.tag, 0);\n  }\n\n  /**\n   * Apply Camera dock settings\n   */\n  static applyCameraPosX(pos){\n    const cameraSettings = SettingsUtil.get(Main.SETTINGS.cameraDockMenu.tag);\n    const xPos = pos || cameraSettings.dockPosX; \n    CameraUtil.resetPositionAndSize({ x: xPos });\n  }\n  static applyCameraPosY(pos){\n    const cameraSettings = SettingsUtil.get(Main.SETTINGS.cameraDockMenu.tag);\n    const yPos = pos || cameraSettings.dockPosY;\n    CameraUtil.resetPositionAndSize({ y: yPos });\n  }\n  static applyCameraWidth(value){\n    const cameraSettings = SettingsUtil.get(Main.SETTINGS.cameraDockMenu.tag);\n    const width = value || cameraSettings.dockWidth;\n    CameraUtil.resetPositionAndSize({ w: width });\n  }\n  static applyCameraHeight(value){\n    const cameraSettings = SettingsUtil.get(Main.SETTINGS.cameraDockMenu.tag);\n    const height = value || cameraSettings.dockHeight;\n    CameraUtil.resetPositionAndSize({ h: height });\n  }\n  /*******/\n\n\n  static applyCustomFonts(){\n    const customFonts = SettingsUtil.get(Main.SETTINGS.customFontsMenu.tag);\n    LogUtil.log(\"applyCustomFonts\", [customFonts]);\n\n    if(customFonts){\n      const root = document.querySelector(\"body.crlngn-ui\");\n      if(customFonts.uiFont!==undefined){\n        root.style.setProperty('--crlngn-font-family', customFonts.uiFont || '');\n      }\n      if(customFonts.journalBodyFont!==undefined){\n        root.style.setProperty('--crlngn-font-journal-body', customFonts.journalBodyFont || '');\n      }\n      if(customFonts.journalTitleFont!==undefined){\n        root.style.setProperty('--crlngn-font-journal-title', customFonts.journalTitleFont || '');\n      }\n    }\n  }\n}","import { DEBUG_TAG } from \"../constants/General.mjs\";\nimport { SettingsUtil } from \"./SettingsUtil.mjs\";\nimport { Main } from \"./Main.mjs\";\n\nexport class LogUtil {\n  /**\n   * Outputs information on console, adding module name and reference\n   * @param {string} ref - Reference information to log after module name\n   * @param {any[]} data - data to log on console\n   */\n  static log(ref=\"\", data=[], bypassSettings=false){\n    try{\n      const debugSetting = SettingsUtil.get(Main.SETTINGS.debugMode.tag);\n      const isDebugModeOn = bypassSettings || debugSetting;\n      if(!isDebugModeOn){ return };\n\n      console.log(...DEBUG_TAG, ref, ...data);\n    }catch(e){\n      console.log(...DEBUG_TAG, ref, ...data);\n    }\n  }\n\n  /**\n   * Outputs information on console, adding module name and reference\n   * @param {string} ref - Reference information to log after module name\n   * @param {any[]} data - data to log on console\n   */\n  static warn(ref=\"\", data=[]){\n    console.warn(...DEBUG_TAG, ref, ...data);\n  }\n\n  /**\n   * Logs an error on the console and/or ui notification\n   * @param {string} strRef - Reference string for the error. \n   * @param {object} options - \n   */\n  static logError(strRef, options){ // = { ui:false, console:true, permanent:false }) {\n      if(options.ui){\n          // console.log(ui.notifications);\n          ui.notifications?.error(strRef, { localize: true, permanent: options.permanent });\n      }\n      if(options.console) console.error(...DEBUG_TAG, strRef);\n  }\n}\n\n","import { HOOKS_CORE } from \"../constants/Hooks.mjs\";\nimport { GeneralUtil } from \"./GeneralUtil.mjs\";\nimport { LogUtil } from \"./LogUtil.mjs\";\nimport { Main } from \"./Main.mjs\";\nimport { SettingsUtil } from \"./SettingsUtil.mjs\";\n\nexport class TopNavigation {\n  static #navElem;\n  static #scenesList;\n  static #navTimeout;\n  static #navExtras;\n  static #navToggle;\n\n  static init(){\n    // if user disabled Scene Navigation Styles,\n    // skip everything\n    const uiMiddle = document.querySelector(\"#ui-middle\");\n    if(SettingsUtil.get(Main.SETTINGS.sceneNavEnabled.tag) && uiMiddle){\n      uiMiddle.classList.add(\"crlngn-ui\");\n    }else if(uiMiddle){\n      uiMiddle.classList.remove(\"crlngn-ui\");\n      return;\n    }\n\n    TopNavigation.addListeners(); \n\n    LogUtil.log(HOOKS_CORE.RENDER_SCENE_NAV, [ui.nav, SettingsUtil.get(Main.SETTINGS.sceneNavCollapsed.tag)]); \n    TopNavigation.setNavPosition(0);\n    \n    TopNavigation.placeNavButtons(); \n    if(SettingsUtil.get(Main.SETTINGS.sceneNavCollapsed.tag)){ \n      ui.nav.collapse();\n    }else{\n      ui.nav.expand();\n    }\n\n    Hooks.on(HOOKS_CORE.RENDER_SCENE_NAV, () => { \n      TopNavigation.addListeners(); \n\n      LogUtil.log(HOOKS_CORE.RENDER_SCENE_NAV, [ui.nav, SettingsUtil.get(Main.SETTINGS.sceneNavCollapsed.tag)]); \n      TopNavigation.setNavPosition();\n      \n      TopNavigation.placeNavButtons(); \n      if(SettingsUtil.get(Main.SETTINGS.sceneNavCollapsed.tag)){ \n        ui.nav.collapse();\n      }else{\n        ui.nav.expand();\n      }\n    }); \n\n    Hooks.on(HOOKS_CORE.COLLAPSE_SIDE_BAR, (value) => { \n      TopNavigation.placeNavButtons(); \n    }); \n\n    Hooks.on(HOOKS_CORE.COLLAPSE_SCENE_NAV, (nav, value) => {\n      SettingsUtil.set(Main.SETTINGS.sceneNavCollapsed.tag, value); \n      LogUtil.log(\"NAV toggle\", [nav, value]); \n    }); \n\n    Hooks.on(HOOKS_CORE.EXPAND_SCENE_NAV, (nav, value) => {\n      SettingsUtil.set(Main.SETTINGS.sceneNavCollapsed.tag, false); \n      LogUtil.log(\"NAV expand\", [nav, false]); \n    }); \n\n    SettingsUtil.apply(Main.SETTINGS.sceneNavCollapsed.tag); \n    \n  } \n\n  static addListeners(){\n    this.#navElem = document.querySelector(\"#navigation\"); \n    this.#scenesList = document.querySelector(\"#scene-list\"); \n    this.#navExtras = document.querySelector(\"#navigation .nav-item.is-root\"); \n    this.#navToggle = document.querySelector(\"#nav-toggle\"); \n\n    this.#navElem?.addEventListener(\"mouseenter\", ()=>{\n      if( !SettingsUtil.get(Main.SETTINGS.sceneNavCollapsed.tag) ||\n          !SettingsUtil.get(Main.SETTINGS.showSceneNavOnHover.tag) ){ \n            return;\n      }\n      clearTimeout(this.#navTimeout);\n\n      const list = document.querySelector(\"#scene-list\");\n      list.style.display = \"flex\";\n      const navigation = document.querySelector(\"#navigation\");\n      navigation.classList.remove(\"collapsed\");\n    });\n\n    this.#navElem?.addEventListener(\"mouseleave\", (e)=>{\n      if( !SettingsUtil.get(Main.SETTINGS.sceneNavCollapsed.tag) ||\n          !SettingsUtil.get(Main.SETTINGS.showSceneNavOnHover.tag) ){ \n            return;\n      }\n      if (!e) var e = window.event;\n      e.cancelBubble = true;\n      if (e.stopPropagation) e.stopPropagation();\n\n      this.#navTimeout = setTimeout(()=>{\n        clearTimeout(this.#navTimeout);\n        this.#navTimeout = null;\n        const list = document.querySelector(\"#scene-list\");\n        list.style.display = \"none\";\n        const navigation = document.querySelector(\"#navigation\");\n        navigation.classList.add(\"collapsed\");\n      }, 700);\n    });\n\n  }\n\n  static placeNavButtons(){ \n    const existingButtons = this.#navElem?.querySelectorAll(\"button.crlngn-nav\");\n    const isNavOverflowing = this.#scenesList?.scrollWidth >= this.#navElem?.offsetWidth;\n    LogUtil.log(\"placeNavButtons\", [ isNavOverflowing, existingButtons, this.#scenesList?.scrollWidth, this.#navElem?.offsetWidth]);\n    if(!isNavOverflowing || existingButtons.length > 0){\n      return;\n    }\n\n    const btnLast = document.createElement(\"button\"); \n    btnLast.classList.add(\"crlngn-nav\"); \n    btnLast.classList.add(\"ui-nav-left\"); \n    const arrowLeft = document.createElement(\"i\"); \n    arrowLeft.classList.add(\"fa\"); \n    arrowLeft.classList.add(\"fa-chevron-left\"); \n    btnLast.addEventListener(\"click\", this.#onNavLast);\n    btnLast.append(arrowLeft); \n\n    const btnNext = document.createElement(\"button\"); \n    btnNext.classList.add(\"crlngn-nav\"); \n    btnNext.classList.add(\"ui-nav-right\"); \n    const arrowRight = document.createElement(\"i\"); \n    arrowRight.classList.add(\"fa\"); \n    arrowRight.classList.add(\"fa-chevron-right\"); \n    btnNext.append(arrowRight); \n    btnNext.addEventListener(\"click\", this.#onNavNext);\n\n    this.#navElem?.appendChild(btnLast);\n    this.#navElem?.appendChild(btnNext);\n  }\n\n\n  static #onNavLast = (e) => {\n    const toggleWidth = this.#navToggle?.offsetWidth;\n    const extrasWidth = GeneralUtil.isModuleOn(\"compact-scene-navigation\") ? this.#navExtras?.offsetWidth : 0;\n    const firstScene = this.#scenesList?.querySelector(\"li.nav-item:not(.is-root)\");\n    const scenes = this.#scenesList?.querySelectorAll(\"li.nav-item\") || [];\n    const itemWidth = firstScene.offsetWidth;\n    const currPos = SettingsUtil.get(Main.SETTINGS.sceneNavPos.tag) || 0;\n    const itemsPerPage = Math.floor((this.#navElem?.offsetWidth - (currPos === 0 ? extrasWidth : 0) - (toggleWidth*2))/itemWidth);\n\n    LogUtil.log(\"onNavLast\", [\"currPos\", currPos, itemsPerPage]);\n\n    let newPos = currPos - itemsPerPage;\n    newPos = newPos < 0 ? 0 : newPos;\n\n    LogUtil.log(\"onNavLast\", [\"sceneCount\", scenes.length, currPos, newPos]);\n    TopNavigation.setNavPosition(newPos); \n  }\n\n  static #onNavNext = (e) => {\n    const toggleWidth = this.#navToggle?.offsetWidth;\n    const extrasWidth = GeneralUtil.isModuleOn(\"compact-scene-navigation\") ? this.#navExtras?.offsetWidth : 0;\n    const firstScene = this.#scenesList?.querySelector(\"li.nav-item:not(.is-root)\");\n    const scenes = this.#scenesList?.querySelectorAll(\"li.nav-item:not(.is-root)\") || [];\n    const itemWidth = firstScene.offsetWidth;\n    const currPos = SettingsUtil.get(Main.SETTINGS.sceneNavPos.tag) || 0;\n    const itemsPerPage = Math.floor((this.#navElem?.offsetWidth - (currPos === 0 ? extrasWidth : 0) - (toggleWidth*2))/itemWidth);\n\n    LogUtil.log(\"onNavLast\", [\"currPos\", currPos, itemsPerPage]);\n\n    let newPos = currPos + itemsPerPage;\n    newPos = newPos > scenes.length ? scenes.length : newPos;\n\n    TopNavigation.setNavPosition(newPos); \n  }\n\n  static setNavPosition(pos){\n    const position = pos !== undefined ? pos : SettingsUtil.get(Main.SETTINGS.sceneNavPos.tag);\n    const scenes = this.#scenesList?.querySelectorAll(\"li.nav-item\") || [];\n\n    const newMargin = scenes[position]?.offsetLeft * -1;\n    this.#scenesList.style.marginLeft = newMargin + 'px';\n\n    SettingsUtil.set(Main.SETTINGS.sceneNavPos.tag, position);\n\n    LogUtil.log(\"setNavPosition\", [pos, position, scenes[position], newMargin]);\n  }\n}\n\n","import { getDnD5eVars } from \"../constants/DnD5e.mjs\";\nimport { getSettings } from \"../constants/Settings.mjs\";\nimport \"../styles/chat.css\"\nimport { SettingsUtil } from \"./SettingsUtil.mjs\";\nimport { Main } from \"./Main.mjs\";\n\n\nexport class ChatUtil {\n\n  static enrichCard(chatMessage, html){\n    const SETTINGS = getSettings();\n\n    if(SettingsUtil.get(Main.SETTINGS.enableChatStyles.tag)){ \n      const rollType = chatMessage.flags?.dnd5e?.activity?.type || chatMessage.flags?.dnd5e?.roll?.type || \"custom\";\n      const elem = html.get(0);\n      elem.classList.add('crlngn');\n      elem.classList.add(rollType);\n    }    \n  }\n\n}","import { HOOKS_CORE } from \"../constants/Hooks.mjs\";\n\nexport class PlayersListUtil {\n\n  static init(){\n    Hooks.on(HOOKS_CORE.RENDER_PLAYERS_LIST, PlayersListUtil.onRender); \n  }\n\n  static onRender(){\n    const playersList = document.querySelector(`aside#players`);\n    const playersTitle = document.querySelector(`aside#players h3[aria-label=\"Players\"]`);\n\n    const playersHeight = playersList.offsetHeight;\n    const root = document.querySelector(\"body.crlngn-ui\");\n    root.style.setProperty('--players-list-height', playersHeight+'px');\n\n    playersTitle.addEventListener('click', ()=>{\n      if(playersList.classList.contains('expanded')){\n        playersList.classList.remove('expanded');\n      }else{\n        playersList.classList.add('expanded');\n      }\n    })\n\n  }\n\n}","import { HOOKS_CORE } from \"../constants/Hooks.mjs\"; \nimport { LogUtil } from \"./LogUtil.mjs\"; \nimport { SettingsUtil } from \"./SettingsUtil.mjs\"; \nimport { TopNavigation } from \"./TopNavUtil.mjs\"; \nimport { ChatUtil } from \"./ChatUtil.mjs\";\nimport { CameraUtil } from \"./CameraUtil.mjs\";\nimport { PlayersListUtil } from \"./PlayersListUtil.mjs\";\nimport { getSettings } from \"../constants/Settings.mjs\";\n\nexport class Main {\n  static SETTINGS;\n\n  static init(){\n    Hooks.once(HOOKS_CORE.INIT, () => { \n      Main.SETTINGS = getSettings();\n      document.querySelector(\"#ui-middle\")?.classList.add(\"crlngn-ui\");\n      LogUtil.log(\"Initiating module\", [], true); \n\n      // Main.setupKeyListeners(); \n      SettingsUtil.registerSettings();\n      Hooks.on(HOOKS_CORE.RENDER_CHAT_MESSAGE, Main.#onRenderChatMessage); \n    });\n\n    Hooks.once(HOOKS_CORE.READY, () => {\n      var isDebugOn = SettingsUtil.get('debug-mode');\n      if(isDebugOn){CONFIG.debug.hooks = true};\n\n      const testTemplate = loadTemplates([\"modules/crlngn-ui/templates/custom-fonts-settings.hbs\"]).then((a)=>{\n        LogUtil.log(\"Loaded template\", [a]);\n      });\n      LogUtil.log(\"Core Ready\", [testTemplate]);\n\n      TopNavigation.init(); \n      CameraUtil.init(); \n      PlayersListUtil.init(); \n    })\n    \n  }\n\n  static setupKeyListeners(){\n    // Listen to keydown event and store keys\n    window.addEventListener('keydown', (event) => {\n      const keyPressed = event.key;\n      const index = Main.keysPressed.indexOf(keyPressed);\n\n      if(index < 0){\n        Main.keysPressed.push(keyPressed);\n      }\n      LogUtil.log(\"Keydown\", [Main.keysPressed]);\n    });\n\n    // Listen to keyup event and remove keys\n    window.addEventListener('keyup', (event) => {\n      const keyReleased = event.key;\n      const index = Main.keysPressed.indexOf(keyReleased);\n\n      if(index >= 0){\n        Main.keysPressed.splice(index,1);\n      }\n      LogUtil.log(\"Keyup\", [Main.keysPressed]); \n    });\n  }\n\n  static #onRenderChatMessage = (chatMessage, html) => { \n    LogUtil.log(HOOKS_CORE.RENDER_CHAT_MESSAGE,[chatMessage, html]);\n  \n    ChatUtil.enrichCard(chatMessage, html);\n  }\n\n}\n","\nimport \"./styles/main.css\";\nimport \"./styles/ui-middle.css\";\nimport \"./styles/ui-top.css\";\nimport \"./styles/ui-right.css\";\nimport \"./styles/ui-bottom.css\";\nimport \"./styles/ui-left.css\";\nimport \"./styles/camera.css\";\nimport \"./styles/chat.css\";\nimport \"./styles/players-list.css\";\nimport \"./styles/other-modules.css\";\n\nimport { Main } from \"./components/Main.mjs\";\n\nMain.init();"],"names":["HOOKS_CORE","MODULE_ID","MODULE_SHORT","DEBUG_TAG","SETTING_INPUT","SETTING_SCOPE","ICON_SIZES","getSettings","ApplicationV2","HandlebarsApplicationMixin","_CameraDockSettings_static","onSubmit_fn","onReset_fn","_CameraDockSettings","__privateMethod","options","SETTINGS","setting","SettingsUtil","LogUtil","partId","context","controlSettings","event","form","formData","isFloating","settings","a","b","inputs","defaults","inputField","__privateAdd","__publicField","CameraDockSettings","_CustomFontsSettings_static","_CustomFontsSettings","Main","CustomFontsSettings","_LeftControlsSettings_static","_LeftControlsSettings","LeftControlsSettings","getSettingMenus","GeneralUtil","moduleName","_a","module","parent","selector","element","offsetTop","elementHeight","offsetParent","_offsetX","_offsetY","_startX","_startY","_startWidth","_startHeight","_startBottom","_CameraUtil_static","onDragRelease_fn","onDragMove_fn","onResize_fn","onStopResize_fn","_CameraUtil","cameraSettings","_b","_c","controlsElem","cameraGrid","camControls","existingButtons","controlBar","btnToggle","e","body","offsetBottom","__privateSet","resizeHandle","x","y","w","h","savedPosX","savedPosY","savedWidth","savedHeight","left","__privateGet","bottom","newWidth","deltaY","newHeight","newBottom","_d","_e","_f","CameraUtil","entry","settingObj","value","settingMenu","settingMenuObj","settingName","selectedSetting","newValue","settingTag","macroSizeOption","hotbar","leftControls","controls","root","size","pos","xPos","yPos","width","height","customFonts","ref","data","bypassSettings","debugSetting","strRef","_navElem","_scenesList","_navTimeout","_navExtras","_navToggle","_onNavLast","_onNavNext","_TopNavigation","uiMiddle","nav","list","_g","isNavOverflowing","btnLast","arrowLeft","btnNext","arrowRight","position","scenes","newMargin","toggleWidth","extrasWidth","firstScene","itemWidth","currPos","itemsPerPage","newPos","TopNavigation","ChatUtil","chatMessage","html","rollType","elem","PlayersListUtil","playersList","playersTitle","playersHeight","_onRenderChatMessage","_Main","isDebugOn","testTemplate","keyPressed","keyReleased","index"],"mappings":"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"}